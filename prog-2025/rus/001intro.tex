% !TeX encoding = windows-1251
% !TeX spellcheck = ru_RU
% !TEX root = mainrus.tex

Графические интерфейсы пользователя (GUI) являются одним из наиболее распространённых способов взаимодействия с программами. Пользователи встречают набор графических элементов управления с интуитивно понятным смыслом на персональных компьютерах, ноутбуках, мобильных телефонах, банкоматах, игровых консолях и т.д. Однако низкий порог вхождения требует определённых усилий: разработка графических интерфейсов оказывается сложной задачей~\cite{UI1}.

Обычные пользователи зачастую не осознают, что делает интерфейс привлекательным и удобным. Для создания качественного интерфейса необходимо учитывать множество эстетических, эргономических и психологических факторов, что требует специальных знаний, которыми программисты обладают не всегда. В результате возникают не только должности для разработчиков интерфейсов (UI), но и для специалистов по пользовательскому взаимодействию (UX)~\cite{UI5}, которые разрабатывают правила (англ. guidelines) для создания эффективных интерфейсов. Эти правила часто оказываются неполными, двусмысленными и неформальными, и их применение требует опыта и интуиции, которых может не быть у разработчиков. Взаимодействие между разработчиками и дизайнерами часто затрудняется различиями в экспертизе, подходах и мышлении~\cite{UI6}. Более того, упомянутые правила не всегда легко применимы к различным устройствам и разрешениям экранов. Поэтому разработчикам зачастую приходится следовать нескольким наборам правил проектирования интерфейсов одновременно.

В данной работе представлен подход к синтезу расположения (англ. layout) элементов управления GUI с учётом набора правил проектирования интерфейсов. Наша модель GUI разделяет логическую структуру элементов управления (что проще для программистов) и конкретное расположение элементов, отступов и выравниваний (более понятных дизайнерам). Мы разработали автоматизированный подход, который, основываясь на логической структуре (предоставленной программистом) и наборе правил (предоставленных дизайнером), синтезирует расположение элементов управления в соответствии с этими правилами. Поскольку правила могут быть неоднозначными, может существовать несколько различных расположений, удовлетворяющих им. Мы рассматриваем синтез интерфейсов как задачу удовлетворения ограничений (англ. constraint satisfaction) и используем реляционное программирование~\cite{TRS} и метод \enquote{верификатор-из-решателя}~\cite{searchproblems} (англ. verifier-to-solver) для создания решателя, который располагает элементы управления с помощью примитивов. В своей примитивной форме этот решатель оказывается неэффективным, поэтому мы применили ряд оптимизаций (включая специализацию), чтобы повысить его производительность. В результате получился решатель, который написан на смеси реляционного и функционального кода. Далее набор примитивов расположения преобразуется в линейные ограничения на координаты и решается с использованием SMT решателя Z3~\cite{Zthree}, что позволяет получить абсолютные координаты всех элементов управления. Этот подход даёт возможность создать корректный и полный решатель: на основе указанной логической структуры он синтезирует все расположения элементов, соответствующие дизайнерским правилам.

При этом решатель достаточно эффективен, чтобы работать на обычном ноутбуке.