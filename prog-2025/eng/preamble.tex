% !TEX TS-program = pdflatex
% !TeX spellcheck = en_US
% !TEX root = main.tex

\usepackage{amsmath}%,amssymb}
\usepackage{amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{hyperref}
\usepackage{csquotes}
%\usepackage{lmodern}     % Fonts will be nicer 'sudo apt install lmodern'
%\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
%    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}

% ======== Custom definitions =============
\usepackage[normalem]{ulem} % \sout
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric,backgrounds,fit,
  %positioning-plus,
  %node-families,
  calc}
\usepackage{xcolor}
%\usepackage{mathtools}
%\usepackage[draft]{hyperref}
\usepackage{marginnote}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{multirow}
\usepackage{array}
\usepackage{url}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{xspace}
\usepackage{flushend} % Equalizes columns on the last page
\usepackage{placeins}
\usepackage{verbatimbox}
\usepackage[title]{appendix}

\newcommand{\term}[1]{\mbox{\texttt{\textbf{#1}}}}
\newcommand{\run}[2]{\term{run}^{#1}\,\left[#2\right]}
\newcommand{\todo}[1]{{\bf\color{red}#1}}
\newcommand{\rel}[3]{{#1}\xrightarrow{#2}{#3}}
\newcommand{\prg}[1]{\mbox{\lstinline|#1|}}
\renewcommand{\leq}{\ensuremath{\leqslant}}
\renewcommand{\geq}{\ensuremath{\geqslant}}

\lstdefinelanguage{guideline}{
keywords={},
sensitive=true,
commentstyle=\small\itshape\ttfamily,
keywordstyle=\ttfamily\underbar,
identifierstyle=\ttfamily,
basewidth={0.5em,0.5em},
columns=fixed,
fontadjust=true,
literate={->}{{$\to$}}3 {=>}{{$\Rightarrow$}}3,
morecomment=[s]{(*}{*)}
}

\lstdefinelanguage{ocanren}{
keywords={run, conde, fresh, let, in, match, with, when, class, type,
object, method, of, rec, repeat, until, while, not, do, done, as, val, inherit,
new, module, sig, deriving, datatype, struct, if, then, else, open, private, virtual, include, success, failure, switch,
true, false, ocanren},
sensitive=true,
commentstyle=\small\itshape\ttfamily,
keywordstyle=\ttfamily\textbf,
identifierstyle=\ttfamily,
basewidth={0.5em,0.5em},
columns=fixed,
mathescape=true,
fontadjust=true,
literate={fun}{{$\lambda$}}1 {->}{{$\to$}}3 {===}{{$\equiv$}}1 {=/=}{{$\not\equiv$}}1 {|>}{{$\triangleright$}}3 {\\/}{{$\vee$}}2 {/\\}{{$\wedge$}}2 {^}{{$\uparrow$}}1
%{[]}{{\texttt|[]|}}1
,
morecomment=[s]{(*}{*)}
}

\lstdefinelanguage{ocaml}{
keywords={type, struct},
sensitive=true,
commentstyle=\small\itshape\ttfamily,
keywordstyle=\ttfamily\textbf,
%keywordstyle=\ttfamily\underbar,
identifierstyle=\ttfamily,
basewidth={0.5em,0.5em},
columns=fixed,
fontadjust=true,
literate={->}{{$\to$}}3 {=>}{{$\Rightarrow$}}3,
morecomment=[s]{(*}{*)}
}

\lstdefinelanguage{algo}{
basicstyle=\small\ttfamily,
keywords={if, for, return},
sensitive=true,
commentstyle=\small\itshape\rmfamily,
keywordstyle=\rmfamily\textbf,
%keywordstyle=\ttfamily\underbar,
identifierstyle=\rmfamily,
basewidth={0.5em,0.5em},
columns=fixed,
fontadjust=true,
literate={->}{{$\to$}}3 {=>}{{$\Rightarrow$}}3,
morecomment=[l]{//},
morecomment=[s]{(*}{*)}
}

\lstset{
mathescape=true,
%basicstyle=\small,
identifierstyle=\ttfamily,
keywordstyle=\bfseries,
commentstyle=\scriptsize\rmfamily,
basewidth={0.5em,0.5em},
fontadjust=true,
language=guideline
}
