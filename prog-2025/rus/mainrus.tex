% !TEX TS-program = pdflatex
% !TeX spellcheck = ru_RU
% !TEX root = mainrus.tex

\documentclass[a4paper,twoside,11pt]{article}
\usepackage[cp1251]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{xurl}
\usepackage{fancyhdr}
\usepackage{../eng/newprog1e}
\usepackage{amsfonts,amsmath,amssymb,amsthm}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage[autostyle=true]{csquotes}
\usepackage{listings}
\usepackage{verbatim}
\usepackage{verbatimbox}
\usepackage{xspace}
\usepackage{array}

\usepackage{datetime2}
\DTMsetup{useregional}
\DTMlangsetup[ru-RU]{abbr}


\usepackage{tikz}
\usetikzlibrary{shapes.geometric,backgrounds,fit,calc}

\tolerance=1000

%\lstdefinelanguage{guideline}{
%	keywords={},
%	sensitive=true,
%	commentstyle=\small\itshape\ttfamily,
%	keywordstyle=\ttfamily\underbar,
%	identifierstyle=\ttfamily,
%	basewidth={0.5em,0.5em},
%	columns=fixed,
%	fontadjust=true,
%	literate={->}{{$\to$}}3 {=>}{{$\Rightarrow$}}3,
%	morecomment=[s]{(*}{*)}
%}

\lstdefinelanguage{ocanren}{
	keywords={run, conde, fresh, let, in, match, with, when, class, type,
		object, method, of, rec, repeat, until, while, not, do, done, as, val, inherit,
		new, module, sig, deriving, datatype, struct, if, then, else, open, private, virtual, include, success, failure, switch,
		true, false, ocanren},
	sensitive=true,
	commentstyle=\small\itshape\ttfamily,
	keywordstyle=\ttfamily\textbf,
	identifierstyle=\ttfamily,
	basewidth={0.5em,0.5em},
	columns=fixed,
	mathescape=true,
	fontadjust=true,
	literate={fun}{{$\lambda$}}1 {->}{{$\to$}}3 {===}{{$\equiv$}}1 {=/=}{{$\not\equiv$}}1 {|>}{{$\triangleright$}}3 {\\/}{{$\vee$}}2 {/\\}{{$\wedge$}}2 {^}{{$\uparrow$}}1
	%{[]}{{\texttt|[]|}}1
	,
	morecomment=[s]{(*}{*)}
}

\lstdefinelanguage{ocaml}{
	keywords={type, struct},
	sensitive=true,
	commentstyle=\small\itshape\ttfamily,
	keywordstyle=\ttfamily\textbf,
	%keywordstyle=\ttfamily\underbar,
	identifierstyle=\ttfamily,
	basewidth={0.5em,0.5em},
	columns=fixed,
	fontadjust=true,
	literate={->}{{$\to$}}3 {=>}{{$\Rightarrow$}}3,
	morecomment=[s]{(*}{*)}
}

\lstdefinelanguage{algo}{
	basicstyle=\small\ttfamily,
	keywords={if, for, return},
	sensitive=true,
	commentstyle=\small\itshape\rmfamily,
	keywordstyle=\rmfamily\textbf,
	%keywordstyle=\ttfamily\underbar,
	identifierstyle=\rmfamily,
	basewidth={0.5em,0.5em},
	columns=fixed,
	fontadjust=true,
	literate={->}{{$\to$}}3 {=>}{{$\Rightarrow$}}3,
	morecomment=[l]{//},
	morecomment=[s]{(*}{*)}
}


\newcommand{\term}[1]{\mbox{\texttt{\textbf{#1}}}}
\newcommand{\prg}[1]{\mbox{\lstinline|#1|}}
\newcommand{\run}[2]{\term{run}^{#1}\,\left[#2\right]}
\newcommand{\OCaml}{\textsc{OCaml}\xspace}
\newcommand{\OCanren}{\textsc{OCanren}\xspace}
\newcommand{\miniKanren}{\textsc{miniKanren}\xspace}
\newcommand{\JavaScript}{\textsc{JavaScript}\xspace}
\newcommand{\JSOO}{\textsc{Js\_of\_ocaml}\xspace}
\newcommand{\Zthree}{\textsc{Z3}\xspace}
\newcommand{\noCanren}{\textsc{noCanren}\xspace}

\renewcommand{\leq}{\ensuremath{\leqslant}}
\renewcommand{\geq}{\ensuremath{\geqslant}}

\numberwithin{equation}{section}
\newtheorem{theorem}{Теорема}

\newtheorem{definition}{Definition}
\newtheorem{theorem_ru}{Теорема}


\journalnumber{1}
\curyear{2025}
\authorlist{ЛОЗОВ И ДР.}
\titlehead{ Реляционный подход к декларативному синтезу графических интерфейсов пользователя }
\headerdef

\udk{004.51}
\rubrika{ЯЗЫКИ, КОМПИЛЯТОРЫ И СИСТЕМЫ ПРОГРАММИРОВАНИЯ.}
\dateinput{?.?.2024}

\rusabstr{
\include{000abstract.tex}
}

\author{
{\bfseries П.~А.~Лозов*, Д.~С.~Косарев*, Д.~Ю.~Булычев*, Д.~C.~Фокин**}
\\ {\itshape *СПбГУ}
\\ {\slshape 199034} {\slshape 7-9} {\itshape Санкт-Петербург, Университеская наб. д.} {\slshape 7-9}
\\ {\itshape **Без аффилиации}
\\ {\itshape E-mail: d.kosarev@spbu.ru,  lozov.peter@gmail.com,  dboulytchev@math.spbu.ru, denis.fokin@gmail.com }}
\title{ Реляционный подход к декларативному синтезу графических интерфейсов пользователя }
\title{ Программирование в ограничениях для автоматизированного проектирования интерфейсов}

%\thanks{~}

\date{}

\begin{document}

\maketitle
\setcounter{page}{3}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\He{Введение}
\label{sec:intro}
\input{001intro}

\He{Модель GUI}
\label{sec:scene}
\input{002model}

\He{Синтез расположения как задача удовлетворения ограничений}
\label{sec:guidelines}
\input{003guidelines.tex}

\He{Реляционное программирование, верификаторы и решатели}
\label{sec:rel}
\input{004rel.tex}

\He{Синтез расположения GUI}
\label{sec:synthesizing}
\input{005synthesis.tex}

\He{Реализация}
\label{sec:impl}
\input{006impl.tex}

\He{Смежные работы}
\label{sec:related}
\input{007related.tex}

\He{Заключение}
\input{008discussion.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{thebibliography}{99}

\small
\bibitem{UI1}
{\em Haft~M., Humm~B., Siedersleben~J.} The Architect's Dilemma~--- Will Reference Architectures Help? Quality of Software Architectures and Software Quality, 2005, pp. 106--122.


%\bibitem{UI12}
%{\em Ingram~S.} (2016) The Thumb Zone: Designing For Mobile Users. Smashing Magazine (online). Available at: \url{https://www.smashingmagazine.com/2016/09/the-thumb-zone-designing-for-mobile-users}, accessed 10.11.2024.

\bibitem{UI5}
Ergonomics of human-system interaction~--- Part 210: Human-centred design for interactive
systems. ISO 9241-210:2019, International Organization for Standardization, 2019. Available at: \url{https://www.iso.org/standard/77520.html}.

\bibitem{UI6}
{\em Gerber~E., Carroll~M.} The psychological experience of prototyping. Design Studies, vol. 33, isuue 1, 2012, pp 64--84. DOI: 10.1016/j.destud.2011.06.005.

\bibitem{TRS}
{\em Friedman~D.P., William~W.E., Kiselyov~O., Hemann~J.} The Reasoned Schemer. The MIT Press, 2nd edition, Cambridge, USA, 2005, 224 p.

\bibitem{searchproblems}
{\em Lozov~P., Verbitskaia~E., Boulytchev~D.} Relational Interpreters for Search Problems. In miniKanren and Relational Programming Workshop, 2019.

\bibitem{Zthree}
{\em Leonardo de Moura, Bj{\o}rner~N.} Z3: An Efficient SMT Solver. Tools and Algorithms for the Construction and Analysis of Systems, Springer Berlin Heidelberg, 2008, pp. 337--340.

\bibitem{UI3}
{\em Bengfort~J.} Thin vs. Thick vs. Zero Client: What’s the Right Fit for Your Business? Online. Available at:
\url{https://biztechmagazine.com/article/2018/10/thin-vs-thick-vs-zero-client-whats-right-fit-your-business-perfcon}, accessed: 10.11.2024.
% TODO: On Kakadu's computer link is not being breaked properly. We should either
% * oblige Peter to compile PDF
% * rewrite with \texttt beacuse URLs are alredy unclickable
% * Understand why \href doesn't work

\bibitem{JBG}
Intellij platform UI guidelines: Layout (online). JetBrains s.r.o., 2000--2022. Available at: \url{https://jetbrains.github.io/ui/principles/layout}, accessed: 10.11.2024.

\bibitem{OCanren}
{\em Kosarev~D., Boulytchev~D.} Typed Embedding of a Relational Language in OCaml. Electronic Proceedings in Theoretical Computer Science, 2016, pp. 1--22.

\bibitem{interleaving}
{\em Kiselyov~O., Chung-chieh Shan, Friedman~D.P., Amr~S.} Backtracking, Interleaving, and Terminating Monad Transformers: (Functional Pearl). In Proceedings of the Tenth ACM SIGPLAN International Conference on Functional Programming, New York, USA, 2005, pp. 192--203.

\bibitem{certified}
{\em Rozplokhas~D., Vyatkin~A., Boulytchev~D.} Certified Semantics for Relational Programming. Programming Languages and Systems, APLAS 2020, Lecture Notes in Computer Science, vol. 12470, Springer, Cham, pp. 167--185.

\bibitem{disuni}
{\em Comon~H.}  Disunification: A Survey. Computational Logic – Essays in Honor of Alan Robinson. MIT Press, 1991, 322--359.

\bibitem{cKanren}
{\em Alvis~C.E., Willcock~J.J., Carter~K.M., Byrd~W.E., Friedman~D.P.} cKanren: miniKanren with Constraints. Proceedings of the 2011 Annual Workshop on Scheme and Functional Programming, 2011.

\bibitem{aKanren}
{\em Byrd~W.E., Friedman~D.P.} $\alpha$Kanren A Fresh Name in Nominal Logic Programming. In Scheme and Functional Programming, 2007.

\bibitem{SemanticsModifiers}
{\em Abramov~S., Gl{\"u}ck~R.} From Standard to Non-Standard Semantics by Semantics Modifiers. International Journal of Foundations of Computer Science, vol. 12, issue 2, 2001, pp. 171--211. DOI: 10.1142/S0129054101000448.

\bibitem{SemanticsModifiers1}
{\em Abramov~S., Gl{\"u}ck~R.} Combining Semantics with Non-standard Interpreter Hierarchies. FST TCS 2000: Foundations of Software Technology and Theoretical Computer Science, Springer Berlin Heidelberg, 2000, pp. 201--213.

\bibitem{Untagged}
{\em Byrd~W.E., Holk~E., Friedman~D.P.} MiniKanren, Live and Untagged: Quine Generation via Relational Interpreters (Programming Pearl). Proceedings of the Annual Workshop on Scheme and Functional Programming, Association for Computing Machinery, New York, USA, 2012, pp. 8--29.

\bibitem{WBirdSeven}
{\em Byrd~W.E., Ballantyne~M., Rosenblatt~G., Might~M.} A Unified Approach to Solving Seven Programming Problems (Functional Pearl). Proceedings of ACM Program. Lang., Association for Computing Machinery, New York, USA, 2017, pp. 8:1--8:26.

\bibitem{PatternMatching}
{\em Kosarev~D., Lozov~P., Boulytchev~D.} Relational Synthesis for Pattern Matching. Programming Languages and Systems, Springer International Publishing, Cham, 2020, pp.293--310.

\bibitem{minUnsatCore}
{\em Guthmann~O., Strichman~O., Trostanetski~A.} Minimal Unsatisfiable Core Extraction for SMT. 2016 Formal Methods in Computer-Aided Design (FMCAD), Mountain View, CA, USA, 2016, pp. 57--64. DOI: 10.1109/FMCAD.2016.7886661.

\bibitem{react}
React: A JavaScript Library for Building User Interfaces. Meta Platforms, Inc. Available at: \url{https://reactjs.org/}, accessed: 10.11.2024.

\bibitem{Jetpack}
Jetpack Compose. Android Developers. Available at: \url{https://developer.android.com/compose}, accessed: 10.11.2024.

%\bibitem{SwiftUI}
%SwiftUI. Apple Inc. Available at: \url{https://developer.apple.com/xcode/swiftui}, accessed: 10.11.2024.

\bibitem{Streamlit}
Streamlit framework site. Available at: \url{https://docs.streamlit.io}, accessed: 10.11.2024.

%\bibitem{D3}
%The JavaScript library for bespoke data visualization. Available at: \url{https://d3js.org}, accessed: 10.11.2024.

\bibitem{StreamlitLayout}
Streamlit layouts and containers. Available at: \url{https://docs.streamlit.io/develop/api-reference/layout}, accessed: 10.11.2024.

\bibitem{Wallingford2016}
{\em Borning~A.} Wallingford: Toward a Constraint Reactive Programming Language. Companion Proceedings of the 15th International Conference on Modularity, Association for Computing Machinery, New York, NY, USA, 2016, pp. 45--49. DOI: 10.1145/2892664.2892667.

\bibitem{Cassowary2001}
{\em Badros~G.J., Borning~A., Stuckey~P.J.} The Cassowary Linear Arithmetic Constraint Solving Algorithm. ACM Trans. Comput.-Hum. Interact., vol. 8, issue 4, Association for Computing Machinery, New York, NY, USA, 2001, pp. 267--306. DOI: 10.1145/504704.504705.

\bibitem{Cai2023}
{\em Bo Cai, Jian Luo, Zhen Feng.} A novel code generator for graphical user interfaces. Scientific Reports, vol. 13, 2023. DOI: 10.1038/s41598-023-46500-6.

\bibitem{Robust}
{\em Bielik~P., Fischer~M., Vechev~M.} Robust relational layout synthesis from examples for Android. Proc. ACM Program. Lang., vol. 2, Association for Computing Machinery, New York, NY, USA, 2018. DOI: 10.1145/3276526.

\bibitem{ConstraintLayout}
Android \texttt{ConstraintLayout} widget. Available at: \url{https://developer.android.com/reference/androidx/constraintlayout/widget/ConstraintLayout}, accessed: 10.11.2024.

\bibitem{LearningGUI}
{\em Br\"{u}ckner~L., Leiva~L.A., Oulasvirta~A.} Learning GUI Completions with User-defined Constraints. ACM Trans. Interact. Intell. Syst., vol. 12, Association for Computing Machinery, New York, NY, USA, 2022. DOI: 10.1145/3490034.

\bibitem{Grid}
{\em Shiripour~M., Dayama~N.R., Oulasvirta~A.} Grid-based Genetic Operators for Graphical Layout Generation. Proc. ACM Hum.-Comput. Interact., vol. 5, Association for Computing Machinery, New York, NY, USA, 2021. DOI: 10.1145/3461730.

\newpage
\bibitem{Scout}
{\em }Swearngin~A., Wang~C., Oleson~A., Fogarty~J., Amy~J.Ko. Scout: Rapid Exploration of Interface Layout Alternatives through High-Level Design Constraints. Proceedings of the 2020 CHI Conference on Human Factors in Computing Systems, 2020. Available at: \url{https://api.semanticscholar.org/CorpusID:210177012}, accessed: 10.11.2024.

%

\end{thebibliography}

%\bibliographystyle{ugost2008ls}
%\bibliography{report_19_09.bib}
\newpage
\input{900figures}

\label{lastpage}
\end{document}






