\documentclass[final,acmlarge,draft=false,review=false,nonacm=false]{acmart}
\usepackage[
    type={CC},           % your choice
    modifier={by-sa},    % your choice
    version={4.0},       % your choice
]{doclicense}  

\settopmatter{printacmref=false,printfolios=false}
\fancyfoot{}

\makeatletter
\def\@formatdoi#1{}
\def\@permissionCodeOne{miniKanren.org/workshop}
\def\@copyrightpermission{\doclicenseThis} 
\def\@copyrightowner{Copyright held by the author(s).}
\makeatother

\copyrightyear{2020}
\setcopyright{rightsretained}

\acmConference[miniKanren 2020]{The Second miniKanren and Relational Programming Workshop}{August 27 2020}{Online}
\acmMonth{8}
\acmArticle{3}

\usepackage{listings}
\usepackage[section]{placeins}
\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{yfonts}
\usepackage{subcaption}
\usepackage{xspace}

\pgfplotsset{width=7cm,compat=1.8}

\lstdefinelanguage{ocanren}{
keywords={run, conde, fresh, let, in, match, with, when, class, type,
object, method, of, rec, until, while, not, do, done, as, val, inherit,
new, module, sig, deriving, datatype, struct, if, then, else, open, private, virtual, include, success, failure,
true, false},
sensitive=true,
commentstyle=\small\itshape\ttfamily,
keywordstyle=\textbf,%\ttfamily\underline,
identifierstyle=\ttfamily,
basewidth={0.5em,0.5em},
columns=fixed,
mathescape=true,
fontadjust=true,
literate={fun}{{$\lambda$}}1 {->}{{$\to$}}3 {===}{{$\equiv$}}1 {=/=}{{$\not\equiv$}}1 {|>}{{$\triangleright$}}3 {\\/}{{$\vee$}}2 {/\\}{{$\wedge$}}2 {^}{{$\uparrow$}}1,
morecomment=[s]{(*}{*)}
}

\lstset{
language=ocanren
}

\newcommand{\ruleno}[1]{\mbox{[\textsc{#1}]}}
\newcommand{\rulen}[1]{[\textsc{#1}]}
\newcommand{\mk}{\textsc{miniKanren}\xspace}
\newcommand{\inbr}[1]{\langle #1 \rangle}

\let\oldemptyset\emptyset
\let\emptyset\varnothing

\begin{document}

\title{On Fair Relational Conjunction}

\author{Petr Lozov}
\email{lozov.peter@gmail.com}        

\author{Dmitry Boulytchev}
\email{dboulytchev@math.spbu.ru}    

\affiliation{
  \institution{Saint Petersburg State University}
  \country{Russia}                   
}

\affiliation{
  \institution{JetBrains Research}   
  \country{Russia}                   
}

\begin{abstract}
We present a new, more symmetric evaluation strategy for conjunctions in \mk. Unlike the original unfair directed conjunction, our approach controls the order of conjunct execution based on the properties of structurally recursive relations. In this paper we describe operational semantics for both ``classical'' and ``fair'' conjunctions. We also compare the performance of classical and fair conjunctions on a number of examples and discuss the results of the evaluation.
\end{abstract}

\begin{CCSXML}
<ccs2012>
   <concept>
       <concept_id>10011007.10011006.10011008.10011009.10011015</concept_id>
       <concept_desc>Software and its engineering~Constraint and logic languages</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
   <concept>
       <concept_id>10011007.10011006.10011039.10011311</concept_id>
       <concept_desc>Software and its engineering~Semantics</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
 </ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~Constraint and logic languages}
\ccsdesc[500]{Software and its engineering~Semantics}

\keywords{relational programming, miniKanren, evaluation strategies, operational semantics}

\maketitle

\thispagestyle{empty}

\input{introduction}
\input{classic-conjunction}
\input{classic-semantics}
\input{naive-fair-conjunction}
\input{structural-recursion}
\input{evaluation}
\input{conclusion}

\begin{acks}
The reported study was funded by RFBR, project number 19-31-90053.
\end{acks}

\bibliographystyle{ACM-Reference-Format}
\bibliography{fair-conj}


\end{document}
\endinput

