% !TEX TS-program = pdflatex
% !TeX spellcheck = en_US
% !TEX root = main.tex

\section{Conclusion and Future Work}

We described current features and approach for converting relational programs from \OCanren{} to \Klogic{} in \Kotlin{} and \miniKanren{} in \Scheme{}.
At the moment it powerful enough to translate small benchmarks from one DSL to another.
But large relational/functional programs will have  non relational parts, and any attempt to do automatic translation will be transformed to translation from \OCaml{} to \Scheme{}.
At the moment developers should manually rewrite non-relational parts to the target host language, hoping that the translator will process relational parts successfully.
At the same time, we want generated code to be readable and debuggable enough.

The support of nested function definitions (popular in \OCaml{} and \OCanren{}) is left for the future work.
At the moment it is not obvious how to attack this problem.
We could eliminate nested functions by closure conversion and lambda lifting, but it may change the interface and the generated code would be more distinct than the original.
We could also add nested functions to internal representation of \OCanren{} programs, and complicate the translator, by changing the task to automatic translation from \OCaml{}. There are also less ambitious ways to improve the translator, for example, to support construction of term on \Scheme{} side both with quotations and user-defined smart constructors.

The reader enthusiastic only about \miniKanren{} in \Scheme{} may only be interested in another way to rewrite relational interpreter, and trading better performance for egregious readability.
The proposed benchmarks still need further polishing to ensure the speedup.
Current timing could be misleading, because the search order is not exactly the same.
The translated implementation has more unification's in the source code, and it is not obvious for now how to repair that.
